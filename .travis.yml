# http://travis-ci.org/#!/agschwender/pilbox
language: python
python:
    - 2.7
env:
    - DEPS=true
    - DEPS=false
before_install:
  - sudo apt-get install libjpeg8-dev libfreetype6 libfreetype6-dev zlib1g-dev
  - sudo ln -s /usr/lib/`uname -i`-linux-gnu/libjpeg.so /usr/lib/
  - sudo ln -s /usr/lib/`uname -i`-linux-gnu/libfreetype.so /usr/lib/
  - sudo ln -s /usr/lib/`uname -i`-linux-gnu/libz.so /usr/lib/
install:
    - if [[ $TRAVIS_PYTHON_VERSION == 2.7 && $DEPS == true ]]; then pip install --use-mirrors tornado pil; fi
script:
    - python -m pilbox.test.runtests
